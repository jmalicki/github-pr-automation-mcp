#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run markdownlint on staged markdown files (only new/modified files)
echo "ğŸ” Running markdownlint on staged files..."
git diff --cached --name-only --diff-filter=ACM | grep '\.md$' | xargs -r npx markdownlint --config .markdownlint.json

# Run basic linting (fast checks only)
echo "ğŸ” Running ESLint on staged files..."
npx eslint --fix $(git diff --cached --name-only --diff-filter=ACM | grep -E '\.(ts|tsx|js|jsx)$' || true)

echo "âœ… Pre-commit checks passed"